<odoo>
    <data>
        <record model="ir.ui.view" id="men_projet.programme">
            <field name="name">Programmes</field>
            <field name="model">men_projet.programme</field>
            <field name="arch" type="xml">
                <tree>
                    <field name="sequence"/>
                    <field name="nom"/>
                    <field name="responsable"/>
                </tree>
            </field>
        </record>

        <record model="ir.ui.view" id="men_projet.programme_form">
            <field name="name">Programme</field>
            <field name="model">men_projet.programme</field>
            <field name="arch" type="xml">
                <form>
                    <header>
                        <field name="status" widget="statusbar" clickable="1"/>
                    </header>
                    <!--Planification items-->
                    <header attrs="{'invisible':[('status','!=','planification')]}">
                        <button string="Objectifs stratégiques" type="object" name="objectifs_strategiques_btn"
                                attrs="{'invisible': [('planif_status', '!=', 'objectifs_globaux')]}"/>
                        <button string="Objectifs Projets" type="object" name="objectifs_projets_btn"
                                attrs="{'invisible': [('planif_status', '!=', 'objectifs_strategiques')]}"/>
                        <button string="Risques projets" type="object" name="risques_projets_btn"
                                attrs="{'invisible': [('planif_status', '!=', 'objectifs_projets')]}"/>
                        <button string="Risques stratégiques" type="object" name="risques_strategiques_btn"
                                attrs="{'invisible': [('planif_status', '!=', 'risques_projets')]}"/>
                        <button string="Risques globaux" type="object" name="risques_globaux_btn"
                                attrs="{'invisible': [('planif_status', '!=', 'risques_strategiques')]}"/>
                        <field name="planif_status" widget="statusbar" clickable="1"/>
                    </header>
                    <group attrs="{'invisible':[('status','!=','planification')]}">
                        <field name="sequence"/>
                        <field name="nom" attrs="{'readonly':[('planif_status','!=','objectifs_globaux')]}"/>
                        <field name="responsable" attrs="{'readonly':[('planif_status','!=','objectifs_globaux')]}"/>
                        <field name="id" invisible="1"/>
                        <field name="description"/>
                        <field string="Objectif global" name="os_global"
                               context="{'form_view_ref': 'men_projet.osg_form_m2o', 'programme_id':id, 'planif_status': planif_status}"/>
                        <field string="Objectifs stratégiques" name="os_none_edit"
                               context="{'form_view_ref':'men_projet.os_form_o2m', 'programme_id':id}"
                               attrs="{'invisible': [('planif_status', 'in', ['objectifs_globaux','objectifs_strategiques','risques_projets','risques_strategiques','risques_globaux'])]}">
                            <tree create="false">
                                <field name="sequence"/>
                                <field name="nom"/>
                                <field name="responsable"/>
                            </tree>
                        </field>
                        <field string="Objectifs projets" name="op_none_edit"
                               context="{'form_view_ref': 'men_projet.op_form_o2m', 'programme_id':id}"
                               attrs="{'invisible': [('planif_status', 'in', ['objectifs_globaux','objectifs_strategiques','objectifs_projets','risques_projets','risques_strategiques','risques_globaux'])]}">
                            <tree create="false">
                                <field name="sequence"/>
                                <field name="nom"/>
                                <field name="responsable"/>
                            </tree>
                        </field>
                        <field string="Risques projets" name="risques_op"
                               context="{'form_view_ref': 'men_projet.risque_form_o2m','objectif': planif_status, 'status': status}"
                               attrs="{'invisible': [('planif_status', 'in', ['objectifs_globaux','objectifs_strategiques','objectifs_projets','risques_projets'])]}">
                            <tree create="false">
                                <field name="sequence"/>
                                <field name="intitule"/>
                                <field name="source"/>
                                <field name="echelle"/>
                                <field name="valeur"/>
                                <field name="impacte"/>
                                <field name="gravite"/>
                                <field name="risque_type" invisible="1"/>
                                <field name="with_survenu" invisible="1"/>
                                <field name="o_type" invisible="1"/>
                            </tree>
                        </field>
                        <field string="Risques Stratégiques" name="risques_os"
                               context="{'form_view_ref': 'men_projet.risque_form_o2m','objectif': planif_status, 'status': status}"
                               attrs="{'invisible': [('planif_status', 'in', ['objectifs_globaux','objectifs_strategiques','objectifs_projets','risques_projets','risques_strategiques'])]}">
                            <tree create="false">
                                <field name="sequence"/>
                                <field name="intitule"/>
                                <field name="source"/>
                                <field name="echelle"/>
                                <field name="valeur"/>
                                <field name="impacte"/>
                                <field name="gravite"/>
                                <field name="risque_type" invisible="1"/>
                                <field name="with_survenu" invisible="1"/>
                                <field name="o_type" invisible="1"/>
                            </tree>
                        </field>
                        <field string="Risques Globaux" name="risques_osg"
                               context="{'form_view_ref': 'men_projet.risque_form_o2m','objectif': planif_status, 'status': status}"
                               attrs="{'invisible': [('planif_status', 'in', ['objectifs_globaux','objectifs_strategiques','objectifs_projets','risques_projets','risques_strategiques','risques_globaux'])]}">
                            <tree create="false">
                                <field name="sequence"/>
                                <field name="intitule"/>
                                <field name="source"/>
                                <field name="echelle"/>
                                <field name="valeur"/>
                                <field name="impacte"/>
                                <field name="gravite"/>
                                <field name="risque_type" invisible="1"/>
                                <field name="with_survenu" invisible="1"/>
                                <field name="o_type" invisible="1"/>
                            </tree>
                        </field>
                    </group>
                    <notebook attrs="{'invisible':[('status','!=','planification')]}">
                        <page string="Objectifs stratégiques"
                              attrs="{'invisible':[('planif_status','!=','objectifs_strategiques')]}">
                            <field string="Objectifs stratégiques" name="os"
                                   context="{'form_view_ref': 'men_projet.os_form_o2m', 'programme_id':id, 'o_type':'os', 'osg_id':os_global}">
                                <tree>
                                    <field name="sequence"/>
                                    <field name="nom"/>
                                    <field name="responsable"/>
                                    <field name="osg_id" invisible="1"/>
                                </tree>
                            </field>
                        </page>
                        <page string="Objectifs projets"
                              attrs="{'invisible':[('planif_status','!=','objectifs_projets')]}">
                            <field string="Objectifs projets" name="op"
                                   context="{'form_view_ref': 'men_projet.op_form_o2m', 'programme_id':id, 'o_type':'op'}">
                                <tree>
                                    <field name="sequence"/>
                                    <field name="nom"/>
                                    <field name="responsable"/>
                                    <field name="os_id"/>
                                </tree>
                            </field>
                        </page>
                        <page string="Risques"
                              attrs="{'invisible': [('planif_status', 'not in', ['risques_globaux','risques_strategiques','risques_projets'])]}">
                            <field name="risques"
                                   context="{'programme':id, 'objectif': planif_status, 'status': status}">
                                <tree>
                                    <field name="sequence"/>
                                    <field name="intitule"/>
                                    <field name="source"/>
                                    <field name="echelle"/>
                                    <field name="valeur"/>
                                    <field name="impacte"/>
                                    <field name="gravite"/>
                                    <field name="risque_type" invisible="1"/>
                                    <field name="with_survenu" invisible="1"/>
                                    <field name="o_type" invisible="1"/>
                                </tree>
                                <form>
                                    <group cols="2">
                                        <group>
                                            <field name="intitule"/>
                                            <field name="description"/>
                                            <field name="source"/>
                                            <field name="impacte"/>
                                        </group>
                                        <group>
                                            <field name="valeur"/>
                                            <field name="echelle"/>
                                            <field name="gravite"/>
                                            <field name="criticite"/>
                                            <field name="o_type" invisible="1"/>
                                            <field name="with_survenu" invisible="1"/>
                                            <field name="os_id"
                                                   attrs="{'invisible': [('o_type', '!=', 'risques_strategiques')]}"/>
                                            <field name="osg_id"
                                                   attrs="{'invisible': [('o_type', '!=', 'risques_globaux')]}"/>
                                            <field name="op_id"
                                                   attrs="{'invisible': [('o_type', '!=', 'risques_projets')]}"/>
                                        </group>
                                    </group>
                                    <group>
                                        <field name="mesuresPre" context="{'m_type' : 'mesure_preventive'}">
                                            <form>
                                                <group>
                                                    <field name="intitule"/>
                                                    <field name="description"/>
                                                    <field name="m_type" invisible="1"/>
                                                    <field name="type">
                                                        <form>
                                                            <group>
                                                                <field name="intitule"/>
                                                                <field name="description"/>
                                                            </group>
                                                        </form>
                                                    </field>
                                                </group>
                                            </form>
                                        </field>
                                        <field name="mesuresUrg" context="{'m_type' : 'mesure_urgente'}">
                                            <form>
                                                <group>
                                                    <field name="intitule"/>
                                                    <field name="description"/>
                                                    <field name="m_type" invisible="1"/>
                                                    <field name="type">
                                                        <form>
                                                            <group>
                                                                <field name="intitule"/>
                                                                <field name="description"/>
                                                            </group>
                                                        </form>
                                                    </field>
                                                </group>
                                            </form>
                                        </field>
                                        <field name="mesuresCorr" context="{'m_type' : 'mesure_corrective'}">
                                            <form>
                                                <group>
                                                    <field name="intitule"/>
                                                    <field name="description"/>
                                                    <field name="m_type" invisible="1"/>
                                                    <field name="type">
                                                        <form>
                                                            <group>
                                                                <field name="intitule"/>
                                                                <field name="description"/>
                                                            </group>
                                                        </form>
                                                    </field>
                                                </group>
                                            </form>
                                        </field>
                                        <field name="survenues"
                                               attrs="{'invisible': [('with_survenu', '=', False)]}"/>
                                    </group>
                                </form>
                            </field>
                        </page>
                    </notebook>

                    <!--Suivi items-->
                    <header attrs="{'invisible':[('status','!=','suivi')]}">
                        <field name="suivi_status" widget="statusbar" clickable="1"/>
                    </header>

                    <group attrs="{'invisible':['|' ,('status','!=','suivi'), ('suivi_status','!=','suivi_indicateur')]}">
                        <field name="objectif_type"/>
                        <field name="indicateurs_suivi">
                            <tree create="false">
                                <field name="intitule"/>
                                <field name="type"/>
                                <field name="responsable"/>
                            </tree>
                            <form>
                                <group cols="2">
                                    <group>
                                        <field name="sequence" readonly="1"/>
                                        <field name="intitule" readonly="1"/>
                                        <field name="type" readonly="1"/>
                                        <field name="os_id" attrs="{'invisible' : [('os_id', '=', False)]}"
                                               readonly="1"/>
                                        <field name="osg_id" attrs="{'invisible' : [('osg_id', '=', False)]}"
                                               readonly="1"/>
                                        <field name="op_id" attrs="{'invisible' : [('op_id', '=', False)]}"
                                               readonly="1"/>
                                        <field name="description" readonly="1"/>
                                        <field name="responsable" readonly="1"/>
                                        <field name="seuil1" readonly="1"/>
                                        <field name="seuil2" readonly="1"/>
                                        <field name="o_type" invisible="1"/>
                                    </group>
                                    <group>
                                        <field name="sprint" readonly="1"/>
                                        <field name="date_debut" readonly="1"/>
                                        <field name="date_fin" readonly="1"/>
                                        <field name="delai" readonly="1"/>
                                    </group>
                                </group>
                                <group>
                                    <field name="valeurs_cibles">
                                        <tree decoration-success="ecart&lt;seuil1" decoration-warning="ecart&gt;seuil2">
                                            <field name="date_cible" readonly="1"/>
                                            <field name="vc" readonly="1"/>
                                            <field name="date_saisie"/>
                                            <field name="vr"/>
                                            <field name="ecart"/>
                                            <field name="t_r"/>
                                            <field name="analyse"/>
                                            <field name="ajustement"/>
                                            <field name="seuil1" readonly="1" invisible="1"/>
                                            <field name="seuil2" readonly="1" invisible="1"/>
                                        </tree>
                                        <form>
                                            <group>
                                                <field name="date_cible" readonly="1"/>
                                                <field name="vc" readonly="1"/>
                                                <field name="date_saisie"/>
                                                <field name="vr"/>
                                                <field name="ecart"/>
                                                <field name="t_r"/>
                                                <field name="analyse"/>
                                                <field name="ajustement"/>
                                                <field name="seuil1" readonly="1" invisible="1"/>
                                                <field name="seuil2" readonly="1" invisible="1"/>
                                            </group>
                                        </form>
                                    </field>
                                </group>
                            </form>
                        </field>
                    </group>
                    <group attrs="{'invisible':['|' ,('status','!=','suivi'), ('suivi_status','!=','suivi_risques')]}">
                        <field name="objectif_type"/>
                        <field name="risques_suivi" readonly="0"
                               context="{'programme':id, 'objectif': planif_status ,'status': status}">
                            <tree create="false">
                                <field name="sequence"/>
                                <field name="intitule"/>
                                <field name="source"/>
                                <field name="echelle"/>
                                <field name="valeur"/>
                                <field name="impacte"/>
                                <field name="gravite"/>
                                <field name="risque_type" invisible="1"/>
                                <field name="o_type" invisible="1"/>
                                <field name="with_survenu" invisible="1"/>
                            </tree>
                            <form>
                                <group>
                                    <group>
                                        <field name="id"/>
                                        <field name="sequence" readonly="1"/>
                                        <field name="intitule" readonly="1"/>
                                        <field name="description" readonly="1"/>
                                        <field name="source" readonly="1"/>
                                        <field name="echelle" readonly="1"/>
                                        <field name="valeur" readonly="1"/>
                                        <field name="impacte" readonly="1"/>
                                        <field name="gravite" readonly="1"/>
                                        <field name="criticite" readonly="1"/>
                                    </group>
                                    <group attrs="{'invisible': [('with_survenu', '=', False)]}">
                                        <field name="mesuresPre" readonly="1"/>
                                        <field name="mesuresUrg" readonly="1"/>
                                        <field name="mesuresCorr" readonly="1"/>
                                        <field name="o_type" invisible="1"/>
                                        <field name="with_survenu" invisible="1"/>
                                        <field name="risque_type" invisible="1"/>
                                        <field name="os_id"
                                               attrs="{'invisible': [('risque_type', '!=', 'risques_strategiques')]}"
                                               readonly="1"/>
                                        <field name="osg_id"
                                               attrs="{'invisible': [('risque_type', '!=', 'risques_globaux')]}"
                                               readonly="1"/>
                                        <field name="op_id"
                                               attrs="{'invisible': [('risque_type', '!=', 'risques_projets')]}"
                                               readonly="1"/>
                                    </group>
                                </group>
                                <group attrs="{'invisible': [('with_survenu', '=', False)]}">
                                    <field name="survenues" context="{'indicateur_id' : id}">
                                        <tree>
                                            <field name="survenu"/>
                                            <field name="date_survenu"/>
                                            <field name="impacte_reel"/>
                                        </tree>
                                        <form>
                                            <group>
                                                <field name="survenu"/>
                                                <field name="date_survenu"/>
                                                <field name="impacte_reel"/>
                                            </group>
                                        </form>
                                    </field>
                                </group>
                            </form>
                        </field>
                        <field name="risques_non_planif">
                            <tree>
                                <field name="intitule"/>
                                <field name="description"/>
                                <field name="source"/>
                            </tree>
                            <form>
                                <group>
                                    <field name="intitule"/>
                                    <field name="description"/>
                                    <field name="source"/>
                                    <field name="date_survenu"/>
                                    <field name="mesuresUrg">
                                        <form>
                                            <group>
                                                <field name="intitule"/>
                                                <field name="description"/>
                                                <field name="m_type" invisible="1"/>
                                                <field name="type">
                                                    <form>
                                                        <group>
                                                            <field name="intitule"/>
                                                            <field name="description"/>
                                                        </group>
                                                    </form>
                                                </field>
                                            </group>
                                        </form>
                                    </field>
                                    <field name="mesuresCorr">
                                        <form>
                                            <group>
                                                <field name="intitule"/>
                                                <field name="description"/>
                                                <field name="m_type" invisible="1"/>
                                                <field name="type">
                                                    <form>
                                                        <group>
                                                            <field name="intitule"/>
                                                            <field name="description"/>
                                                        </group>
                                                    </form>
                                                </field>
                                            </group>
                                        </form>
                                    </field>
                                </group>
                            </form>
                        </field>
                    </group>
                    <group attrs="{'invisible':['|' ,('status','!=','suivi'), ('suivi_status','!=','suivi_objectifs')]}">
                        <field string="Objectif global" name="os_global_suivi"
                               attrs="{'invisible':[('status','!=','suivi')]}" readonly="1"
                        />
                        <field string="Objectifs stratégiques" name="os_suivi" readonly="1"
                               attrs="{'invisible':[('status','!=','suivi')]}">
                            <tree>
                                <field name="nom"/>
                                <field name="responsable"/>
                                <field name="indicateur_efficacite"/>
                            </tree>
                            <form>
                                <group>
                                    <field name="sequence"/>
                                    <field name="programme_id" invisible="1"/>
                                    <field name="nom"/>
                                    <field name="description"/>
                                    <field name="responsable"/>
                                    <field name="osg_id" invisible="1"/>
                                    <field name="op_ids"/>
                                    <field name="indicateurs"
                                           context="{'form_view_ref': 'men_projet.os_form_o2m', 'programme_id':programme_id, 'o_type':'os'}">
                                        <tree>
                                            <field name="sequence"/>
                                            <field name="intitule"/>
                                            <field name="type"/>
                                            <field name="os_id" string="Objectif stratégique"/>
                                        </tree>
                                        <form>
                                            <group cols="2">
                                                <group>
                                                    <field name="sequence"/>
                                                    <field name="intitule"/>
                                                    <field name="description"/>
                                                    <field name="type"/>
                                                    <field name="os_id" attrs="{'invisible' : [('os_id', '=', False)]}"
                                                           readonly="1"/>
                                                    <field name="osg_id"
                                                           attrs="{'invisible' : [('osg_id', '=', False)]}"
                                                           readonly="1"/>
                                                    <field name="op_id" attrs="{'invisible' : [('op_id', '=', False)]}"
                                                           readonly="1"/>
                                                    <field name="responsable"/>
                                                    <field name="seuil1"/>
                                                    <field name="seuil2"/>
                                                </group>
                                                <group>
                                                    <field name="sprint"/>
                                                    <field name="date_debut"/>
                                                    <field name="date_fin"/>
                                                    <field name="delai"/>
                                                </group>
                                            </group>
                                            <group cols="2" attrs="{'invisible' : [('type', '!=', 'quantitatif')]}">
                                                <group>
                                                    <field name="coef_eff"/>
                                                    <field name="coef_pond"/>
                                                    <field name="unite_mesure"/>
                                                </group>
                                                <group>
                                                    <field name="val_min"/>
                                                    <field name="val_max"/>
                                                    <field name="val_init"/>
                                                    <field name="val_finale"/>
                                                </group>
                                            </group>
                                            <group cols="2" attrs="{'invisible' : [('type', '!=', 'qualitatif')]}">
                                                <group>
                                                    <field name="norme"/>
                                                    <field name="reference"/>
                                                    <field name="echelle"/>
                                                </group>
                                            </group>
                                            <group>
                                                <field name="indicateur_parent"/>
                                                <field name="indicateurs_lies" readonly="1"/>
                                            </group>
                                            <group>
                                                <field name="valeurs_cibles">
                                                    <tree editable="bottom">
                                                        <field name="vc"/>
                                                        <field name="date_cible" string="Date Cible"/>
                                                    </tree>
                                                </field>
                                                <field name="si" string="Sources d'informations">
                                                    <tree editable="bottom">
                                                        <field name="intitule"/>
                                                        <field name="responsable"/>
                                                    </tree>
                                                </field>
                                            </group>
                                        </form>
                                    </field>
                                    <field name="risques"/>
                                </group>
                            </form>
                        </field>
                        <field string="Objectifs projets" name="op_suivi" readonly="1"
                               context="{'form_view_ref': 'men_projet.op_form_o2m','programme_id':id}"
                               attrs="{'invisible':[('status','!=','suivi')]}">
                            <tree>
                                <field name="nom"/>
                                <field name="responsable"/>
                                <field name="indicateur_efficacite"/>
                            </tree>
                            <form>
                                <group>
                                    <field name="sequence"/>
                                    <field name="programme_id" invisible="1"/>
                                    <field name="nom"/>
                                    <field name="responsable"/>
                                    <field name="programme_id_value" invisible="1"/>
                                    <field name="os_id" string="Objéctif Stratégique"
                                           domain="[('programme_id', '=', programme_id_value)]" required="1"/>
                                    <field name="indicateurs">
                                        <form>
                                            <group cols="2">
                                                <group>
                                                    <field name="sequence"/>
                                                    <field name="intitule"/>
                                                    <field name="description"/>
                                                    <field name="type"/>
                                                    <field name="os_id" attrs="{'invisible' : [('os_id', '=', False)]}"
                                                           readonly="1"/>
                                                    <field name="osg_id"
                                                           attrs="{'invisible' : [('osg_id', '=', False)]}"
                                                           readonly="1"/>
                                                    <field name="op_id" attrs="{'invisible' : [('op_id', '=', False)]}"
                                                           readonly="1"/>
                                                    <field name="responsable"/>
                                                    <field name="seuil1"/>
                                                    <field name="seuil2"/>
                                                </group>
                                                <group>
                                                    <field name="sprint"/>
                                                    <field name="date_debut"/>
                                                    <field name="date_fin"/>
                                                    <field name="delai"/>
                                                </group>
                                            </group>
                                            <group cols="2" attrs="{'invisible' : [('type', '!=', 'quantitatif')]}">
                                                <group>
                                                    <field name="coef_eff"/>
                                                    <field name="coef_pond"/>
                                                    <field name="unite_mesure"/>
                                                </group>
                                                <group>
                                                    <field name="val_min"/>
                                                    <field name="val_max"/>
                                                    <field name="val_init"/>
                                                    <field name="val_finale"/>
                                                </group>
                                            </group>
                                            <group cols="2" attrs="{'invisible' : [('type', '!=', 'qualitatif')]}">
                                                <group>
                                                    <field name="norme"/>
                                                    <field name="reference"/>
                                                    <field name="echelle"/>
                                                </group>
                                            </group>
                                            <group>
                                                <field name="indicateur_parent"/>
                                                <field name="indicateurs_lies" readonly="1"/>
                                            </group>
                                            <group>
                                                <field name="valeurs_cibles">
                                                    <tree editable="bottom">
                                                        <field name="vc"/>
                                                        <field name="date_cible" string="Date Cible"/>
                                                    </tree>
                                                </field>
                                                <field name="si" string="Sources d'informations">
                                                    <tree editable="bottom">
                                                        <field name="intitule"/>
                                                        <field name="responsable"/>
                                                    </tree>
                                                </field>
                                            </group>
                                        </form>
                                    </field>
                                    <field name="risques">
                                        <tree create="false">
                                            <field name="sequence"/>
                                            <field name="intitule"/>
                                            <field name="source"/>
                                            <field name="echelle"/>
                                            <field name="valeur"/>
                                            <field name="impacte"/>
                                            <field name="gravite"/>
                                            <field name="risque_type" invisible="1"/>
                                            <field name="with_survenu" invisible="1"/>
                                            <field name="o_type" invisible="1"/>
                                        </tree>
                                    </field>
                                </group>
                                <notebook>
                                    <page string="Informations">
                                        <group cols="2">
                                            <group>
                                                <field name="maitre_ouvrage"
                                                       context="{'form_view_ref': 'men_projet.pp_form'}"/>
                                                <field name="maitre_oeuvre"/>
                                                <field name="type"/>
                                                <field name="livrable"/>
                                                <field name="date_debut"/>
                                                <field name="date_fin"/>
                                            </group>
                                            <group>
                                                <field name="budget"/>
                                                <field name="cout_reel"/>
                                                <field name="chef_projet"/>
                                                <field name="directeur_projet"/>
                                            </group>
                                        </group>
                                        <group>
                                            <field name="comites" context="{'form_view_ref': 'men_projet.staff_form'}"/>
                                            <field name="equipe_operation"/>
                                        </group>
                                    </page>
                                </notebook>
                            </form>
                        </field>
                    </group>
                </form>
            </field>
        </record>

        <record model="ir.actions.act_window" id="men_projet.action_programme">
            <field name="name">Programmes</field>
            <field name="res_model">men_projet.programme</field>
            <field name="view_mode">tree,form,pivot</field>
        </record>

    </data>

    <record model="ir.ui.view" id="men_projet.osg_form_m2o">
        <field name="name">Objectif stratégique global</field>
        <field name="model">men_projet.os_global</field>
        <field name="arch" type="xml">
            <form>
                <group>
                    <field name="sequence"/>
                    <field name="nom"/>
                    <field name="description"/>
                    <field name="responsable"/>
                    <field name="indicateurs">
                        <tree>
                            <field name="sequence"/>
                            <field name="intitule"/>
                            <field name="type"/>
                            <field name="osg_id" string="Objectif global"/>
                        </tree>
                        <form>
                            <group cols="2">
                                <group>
                                    <field name="sequence"/>
                                    <field name="intitule"/>
                                    <field name="description"/>
                                    <field name="type"/>
                                    <field name="os_id" attrs="{'invisible' : [('os_id', '=', False)]}"
                                           readonly="1"/>
                                    <field name="osg_id" attrs="{'invisible' : [('osg_id', '=', False)]}"
                                           readonly="1"/>
                                    <field name="op_id" attrs="{'invisible' : [('op_id', '=', False)]}"
                                           readonly="1"/>
                                    <field name="responsable"/>
                                    <field name="seuil1"/>
                                    <field name="seuil2"/>
                                </group>
                                <group>
                                    <field name="sprint"/>
                                    <field name="date_debut"/>
                                    <field name="date_fin"/>
                                    <field name="delai"/>
                                </group>
                            </group>
                            <group cols="2" attrs="{'invisible' : [('type', '!=', 'quantitatif')]}">
                                <group>
                                    <field name="coef_eff"/>
                                    <field name="coef_pond"/>
                                    <field name="unite_mesure"/>
                                </group>
                                <group>
                                    <field name="val_min"/>
                                    <field name="val_max"/>
                                    <field name="val_init"/>
                                    <field name="val_finale"/>
                                </group>
                            </group>
                            <group cols="2" attrs="{'invisible' : [('type', '!=', 'qualitatif')]}">
                                <group>
                                    <field name="norme"/>
                                    <field name="reference"/>
                                    <field name="echelle"/>
                                </group>
                            </group>
                            <group>
                                <field name="indicateur_parent" invisible="1"/>
                                <field name="indicateurs_lies" readonly="1"/>
                            </group>
                            <group>
                                <field name="valeurs_cibles">
                                    <tree editable="bottom">
                                        <field name="vc"/>
                                        <field name="date_cible" string="Date Cible"/>
                                    </tree>
                                </field>
                                <field name="si" string="Sources d'informations">
                                    <tree>
                                        <field name="intitule"/>
                                        <field name="description"/>
                                        <field name="responsable"/>
                                    </tree>
                                    <form>
                                        <group>
                                            <field name="intitule"/>
                                            <field name="description"/>
                                            <field name="responsable"/>
                                        </group>
                                    </form>
                                </field>
                            </group>
                        </form>
                    </field>
                    <field name="os"/>
                    <field name="risques"/>
                </group>
            </form>
        </field>
    </record>
    <record model="ir.ui.view" id="men_projet.os_form_o2m">
        <field name="name">Objectif stratégique</field>
        <field name="model">men_projet.os</field>
        <field name="arch" type="xml">
            <form>
                <group>
                    <field name="sequence"/>
                    <field name="programme_id" invisible="1"/>
                    <field name="nom"/>
                    <field name="description"/>
                    <field name="responsable"/>
                    <field name="osg_id" invisible="1"/>
                    <field name="op_ids"/>
                    <field name="indicateurs"
                           context="{'form_view_ref': 'men_projet.os_form_o2m', 'programme_id':programme_id, 'o_type':'os'}">
                        <tree>
                            <field name="sequence"/>
                            <field name="intitule"/>
                            <field name="type"/>
                            <field name="os_id" string="Objectif stratégique"/>
                        </tree>
                        <form>
                            <group cols="2">
                                <group>
                                    <field name="sequence"/>
                                    <field name="intitule"/>
                                    <field name="description"/>
                                    <field name="type"/>
                                    <field name="os_id" attrs="{'invisible' : [('os_id', '=', False)]}"
                                           readonly="1"/>
                                    <field name="osg_id" attrs="{'invisible' : [('osg_id', '=', False)]}"
                                           readonly="1"/>
                                    <field name="op_id" attrs="{'invisible' : [('op_id', '=', False)]}"
                                           readonly="1"/>
                                    <field name="responsable"/>
                                    <field name="seuil1"/>
                                    <field name="seuil2"/>
                                </group>
                                <group>
                                    <field name="sprint"/>
                                    <field name="date_debut"/>
                                    <field name="date_fin"/>
                                    <field name="delai"/>
                                </group>
                            </group>
                            <group cols="2" attrs="{'invisible' : [('type', '!=', 'quantitatif')]}">
                                <group>
                                    <field name="coef_eff"/>
                                    <field name="coef_pond"/>
                                    <field name="unite_mesure"/>
                                </group>
                                <group>
                                    <field name="val_min"/>
                                    <field name="val_max"/>
                                    <field name="val_init"/>
                                    <field name="val_finale"/>
                                </group>
                            </group>
                            <group cols="2" attrs="{'invisible' : [('type', '!=', 'qualitatif')]}">
                                <group>
                                    <field name="norme"/>
                                    <field name="reference"/>
                                    <field name="echelle"/>
                                </group>
                            </group>
                            <group>
                                <field name="indicateur_parent"/>
                                <field name="indicateurs_lies" readonly="1"/>
                            </group>
                            <group>
                                <field name="valeurs_cibles">
                                    <tree editable="bottom">
                                        <field name="vc"/>
                                        <field name="date_cible" string="Date Cible"/>
                                    </tree>
                                </field>
                                <field name="si" string="Sources d'informations">
                                    <tree>
                                        <field name="intitule"/>
                                        <field name="description"/>
                                        <field name="responsable"/>
                                    </tree>
                                    <form>
                                        <group>
                                            <field name="intitule"/>
                                            <field name="description"/>
                                            <field name="responsable"/>
                                        </group>
                                    </form>
                                </field>
                            </group>
                        </form>
                    </field>
                </group>
            </form>
        </field>
    </record>
    <record model="ir.ui.view" id="men_projet.op_form_o2m">
        <field name="name">Objectif projet</field>
        <field name="model">men_projet.op</field>
        <field name="arch" type="xml">
            <form>
                <group>
                    <field name="sequence"/>
                    <field name="programme_id" invisible="1"/>
                    <field name="nom"/>
                    <field name="responsable"/>
                    <field name="programme_id_value" invisible="1"/>
                    <field name="os_id"
                           domain="[('programme_id', '=', programme_id_value)]" required="1"/>
                    <field name="indicateurs">
                        <form>
                            <group cols="2">
                                <group>
                                    <field name="sequence"/>
                                    <field name="intitule"/>
                                    <field name="description"/>
                                    <field name="type"/>
                                    <field name="os_id" attrs="{'invisible' : [('os_id', '=', False)]}"
                                           readonly="1"/>
                                    <field name="osg_id" attrs="{'invisible' : [('osg_id', '=', False)]}"
                                           readonly="1"/>
                                    <field name="op_id" attrs="{'invisible' : [('op_id', '=', False)]}"
                                           readonly="1"/>
                                    <field name="responsable"/>
                                    <field name="seuil1"/>
                                    <field name="seuil2"/>
                                </group>
                                <group>
                                    <field name="sprint"/>
                                    <field name="date_debut"/>
                                    <field name="date_fin"/>
                                    <field name="delai"/>
                                </group>
                            </group>
                            <group cols="2" attrs="{'invisible' : [('type', '!=', 'quantitatif')]}">
                                <group>
                                    <field name="coef_eff"/>
                                    <field name="coef_pond"/>
                                    <field name="unite_mesure"/>
                                </group>
                                <group>
                                    <field name="val_min"/>
                                    <field name="val_max"/>
                                    <field name="val_init"/>
                                    <field name="val_finale"/>
                                </group>
                            </group>
                            <group cols="2" attrs="{'invisible' : [('type', '!=', 'qualitatif')]}">
                                <group>
                                    <field name="norme"/>
                                    <field name="reference"/>
                                    <field name="echelle"/>
                                </group>
                            </group>
                            <group>
                                <field name="indicateur_parent"/>
                                <field name="indicateurs_lies" readonly="1"/>
                            </group>
                            <group>
                                <field name="valeurs_cibles">
                                    <tree editable="bottom">
                                        <field name="vc"/>
                                        <field name="date_cible" string="Date Cible"/>
                                    </tree>
                                </field>
                                <field name="si" string="Sources d'informations">
                                    <tree>
                                        <field name="intitule"/>
                                        <field name="description"/>
                                        <field name="responsable"/>
                                    </tree>
                                    <form>
                                        <group>
                                            <field name="intitule"/>
                                            <field name="description"/>
                                            <field name="responsable"/>
                                        </group>
                                    </form>
                                </field>
                            </group>
                        </form>
                    </field>
                </group>
                <notebook>
                    <page string="Informations">
                        <group cols="2">
                            <group>
                                <field name="maitre_ouvrage" context="{'form_view_ref': 'men_projet.pp_form'}"/>
                                <field name="maitre_oeuvre"/>
                                <field name="type"/>
                                <field name="livrable"/>
                                <field name="date_debut"/>
                                <field name="date_fin"/>
                            </group>
                            <group>
                                <field name="budget"/>
                                <field name="cout_reel"/>
                                <field name="chef_projet"/>
                                <field name="directeur_projet"/>
                            </group>
                        </group>
                        <group>
                            <field name="comites" context="{'form_view_ref': 'men_projet.staff_form'}"/>
                            <field name="equipe_operation"/>
                            <field name="autres_participants"/>
                        </group>
                    </page>
                </notebook>
            </form>
        </field>
    </record>
    <record model="ir.ui.view" id="men_projet.risque_form_o2m">
        <field name="name">Risque</field>
        <field name="model">men_projet.risque</field>
        <field name="arch" type="xml">
            <form>
                <group cols="2">
                    <group>
                        <field name="sequence"/>
                        <field name="intitule"/>
                        <field name="description"/>
                        <field name="source"/>
                        <field name="echelle"/>
                        <field name="valeur"/>
                        <field name="impacte"/>
                        <field name="gravite"/>
                        <field name="criticite"/>
                    </group>
                    <group>
                        <field name="mesuresPre"/>
                        <field name="mesuresUrg"/>
                        <field name="mesuresCorr"/>
                        <field name="o_type" invisible="1"/>
                        <field name="with_survenu" invisible="1"/>

                        <field name="risque_type" invisible="1"/>
                        <field name="os_id" string="Objectif Stratégique"
                               attrs="{'invisible': [('risque_type', '!=', 'risques_strategiques')]}"/>
                        <field name="osg_id" string="Objectif Global"
                               attrs="{'invisible': [('risque_type', '!=', 'risques_globaux')]}"/>
                        <field name="op_id" string="Objectif Projet"
                               attrs="{'invisible': [('risque_type', '!=', 'risques_projets')]}"/>
                    </group>
                </group>
                <group>
                    <field name="survenues"
                           attrs="{'invisible': [('with_survenu', '=', False)]}">
                        <tree>
                            <field name="survenu"/>
                            <field name="date_survenu"/>
                            <field name="impacte_reel"/>
                        </tree>
                    </field>
                </group>
            </form>
        </field>
    </record>
    <record model="ir.ui.view" id="men_projet.pp_form">
        <field name="name">Partie Prenante</field>
        <field name="model">men_projet.pp</field>
        <field name="arch" type="xml">
            <form>
                <group>
                    <field name="nom"/>
                </group>
            </form>
        </field>
    </record>
    <record model="ir.ui.view" id="men_projet.staff_form">
        <field name="name">Staff</field>
        <field name="model">men_projet.staff</field>
        <field name="arch" type="xml">
            <form>
                <group>
                    <field name="nom"/>
                    <field name="mission"/>
                    <field name="description"/>
                    <field name="ressource_id"/>
                </group>
            </form>
        </field>
    </record>

    <data noupdate="1">
        <record id="seq_men_projet_programme" model="ir.sequence">
            <field name="name">programme_sequencer</field>
            <field name="code">men_projet.programme</field>
            <field name="prefix">PG</field>
            <field name="padding">1</field>
        </record>
    </data>
</odoo>